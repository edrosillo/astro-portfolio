---
import GlitchText from "./GlitchText.astro";

const skills = [
    { name: "Photoshop", level: 100, type: "design" },
    { name: "After Effects", level: 100, type: "motion" },
    { name: "Illustrator", level: 95, type: "design" },
    { name: "Premiere Pro", level: 95, type: "motion" },
    { name: "HTML/CSS", level: 95, type: "dev" },
    { name: "JavaScript", level: 85, type: "dev" },
];
---

<section class="skills-inventory">
    <div class="inventory-frame fade-in-up">
        <header class="inventory-header">
            <span class="header-text">PLAYER STATS</span>
            <div class="header-decoration">
                <span class="dot"></span>
                <span class="dot"></span>
                <span class="dot"></span>
            </div>
        </header>
        
        <div class="skills-grid">
            <div class="character-model">
                <div class="avatar-placeholder">
                    <img src="/images/edrosilloimage.jpg" alt="Avatar" class="avatar-img" />
                    <div class="scanline"></div>
                </div>
                <div class="player-info">
                    <div class="info-row">
                        <span class="label">CLASS:</span>
                        <span class="value">CREATIVE DEV</span>
                    </div>
                    <div class="info-row">
                        <span class="label">LEVEL:</span>
                        <span class="value">40</span>
                    </div>
                    <div class="info-row">
                        <span class="label">XP:</span>
                        <span class="value">999999</span>
                    </div>
                </div>
            </div>
            
            <div class="stats-list">
                {skills.map(skill => (
                    <div class="skill-row">
                        <div class="skill-info">
                            <span class="skill-name">{skill.name}</span>
                            <span class="skill-val">{skill.level}/100</span>
                        </div>
                        <div class="progress-bar-container">
                            <div 
                                class={`progress-bar ${skill.type}`} 
                                style={`width: ${skill.level}%`}
                            ></div>
                        </div>
                    </div>
                ))}
            </div>
        </div>
        
        <footer class="inventory-footer">
            <span class="status">STATUS: ONLINE</span>
            <span class="credit">CREDITS: âˆž</span>
        </footer>
    </div>
</section>

<style>
    .skills-inventory {
        padding: 4rem 0;
    }
    
    .inventory-frame {
        background: rgba(10, 10, 10, 0.8);
        border: 2px solid #333;
        border-radius: 4px;
        padding: 2px;
        box-shadow: 0 0 20px rgba(0, 0, 0, 0.5);
        max-width: 800px;
        margin: 0 auto;
        position: relative;
        overflow: hidden;
    }
    
    /* Global Scanline Overlay */
    .inventory-frame::after {
        content: "";
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background: linear-gradient(
            rgba(18, 16, 16, 0) 50%,
            rgba(0, 0, 0, 0.1) 50%
        );
        background-size: 100% 4px;
        pointer-events: none;
        z-index: 20;
    }

    .inventory-frame::before {
        content: "";
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background: linear-gradient(
            rgba(18, 16, 16, 0) 50%,
            rgba(0, 0, 0, 0.25) 50%
        ), linear-gradient(
            90deg,
            rgba(255, 0, 0, 0.06),
            rgba(0, 255, 0, 0.02),
            rgba(0, 0, 255, 0.06)
        );
        background-size: 100% 2px, 3px 100%;
        pointer-events: none;
        z-index: 10;
    }
    
    .inventory-header {
        background: #222;
        padding: 0.5rem 1rem;
        display: flex;
        justify-content: space-between;
        align-items: center;
        border-bottom: 2px solid #333;
        position: relative;
        z-index: 21; /* Above scanlines */
    }
    
    .header-text {
        font-family: var(--font-heading);
        color: var(--color-primary);
        letter-spacing: 2px;
        font-size: 0.9rem;
    }
    
    .header-decoration {
        display: flex;
        gap: 4px;
    }
    
    .dot {
        width: 8px;
        height: 8px;
        background: #444;
        border-radius: 50%;
    }
    
    .dot:nth-child(1) { background: #ff5f56; }
    .dot:nth-child(2) { background: #ffbd2e; }
    .dot:nth-child(3) { background: #27c93f; }
    
    .skills-grid {
        display: grid;
        grid-template-columns: 1fr 2fr;
        gap: 2rem;
        padding: 2rem;
        position: relative;
        z-index: 21;
    }
    
    @media (max-width: 600px) {
        .skills-grid {
            grid-template-columns: 1fr;
        }
    }
    
    .avatar-placeholder {
        aspect-ratio: 1;
        background: #111;
        border: 1px solid #333;
        display: flex;
        align-items: center;
        justify-content: center;
        margin-bottom: 1rem;
        position: relative;
        overflow: hidden;
    }
    
    .avatar-img {
        width: 100%;
        height: 100%;
        object-fit: cover;
        position: relative;
        z-index: 1;
    }
    
    .scanline {
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;
        height: 2px;
        background: rgba(0, 255, 255, 0.5);
        animation: scan 2s linear infinite;
        z-index: 2;
    }
    
    @keyframes scan {
        0% { top: 0%; }
        100% { top: 100%; }
    }
    
    .info-row {
        display: flex;
        justify-content: space-between;
        margin-bottom: 0.5rem;
        font-family: var(--font-mono);
        font-size: 0.8rem;
    }
    
    .label { color: var(--color-text-muted); }
    .value { 
        color: #fff; /* High contrast */
        text-shadow: 0 0 5px var(--color-primary);
        font-weight: bold;
    }
    
    .skill-row {
        margin-bottom: 1.2rem;
    }
    
    .skill-info {
        display: flex;
        justify-content: space-between;
        margin-bottom: 0.3rem;
        font-family: var(--font-mono);
        font-size: 0.8rem;
        color: var(--color-text);
    }
    
    .progress-bar-container {
        height: 10px;
        background: #111;
        border: 1px solid #333;
        padding: 1px;
    }
    
    .progress-bar {
        height: 100%;
        background: var(--color-primary);
        box-shadow: 0 0 5px var(--color-primary);
        position: relative;
    }
    
    .inventory-footer {
        padding: 0.5rem 1rem;
        border-top: 2px solid #333;
        display: flex;
        justify-content: space-between;
        font-family: var(--font-mono);
        font-size: 0.7rem;
        color: #555;
    }
</style>
